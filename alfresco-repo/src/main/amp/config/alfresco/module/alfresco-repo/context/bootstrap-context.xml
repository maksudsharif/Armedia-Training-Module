<?xml version='1.0' encoding='UTF-8'?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<!-- The bootstrap-context.xml file is used for patch definitions, importers, 
		workflow, and loading custom content models. -->


	<!-- Registration of new models -->
	<bean id="com.someco.alfresco_repo.dictionaryBootstrap" parent="dictionaryModelBootstrap"
		depends-on="dictionaryBootstrap">
		<property name="models">
			<list>
				<value>alfresco/module/${project.artifactId}/model/content-model.xml</value>
				<value>alfresco/module/${project.artifactId}/model/workflow-model.xml</value>
				<value>alfresco/module/${project.artifactId}/model/scModel.xml</value>
				<value>alfresco/module/${project.artifactId}/model/scRatingsModel.xml</value>
				<value>alfresco/module/${project.artifactId}/model/scWorkflowModel.xml</value>
				<value>alfresco/module/${project.artifactId}/model/cstarModel.xml</value>
			</list>
		</property>
		<property name="labels">
			<list>
				<value>alfresco/module/${project.artifactId}/messages/scModel</value>
				<value>alfresco/module/${project.artifactId}/messages/scRatingsModel</value>
				<value>alfresco/module/${project.artifactId}/messages/scWorkflow</value>

			</list>
		</property>
	</bean>

	<!-- Behaviors Tutorial -->
	<bean id="alfresco-repo.ratingBehavior" class="com.someco.behavior.Rating"
		init-method="init">
		<property name="nodeService">
			<ref bean="NodeService" />
		</property>
		<property name="policyComponent">
			<ref bean="policyComponent" />
		</property>
	</bean>

	<bean id="alfresco-repo.generateID" class="com.someco.behavior.GenerateID"
		init-method="init">
		<property name="nodeService">
			<ref bean="NodeService" />
		</property>
		<property name="policyComponent">
			<ref bean="policyComponent" />
		</property>
		<property name="serviceRegistry">
			<ref bean="ServiceRegistry" />
		</property>
	</bean>
	
	<bean id="alfresco-repo.fdaServiceImpl" class="com.someco.submission.FDAServiceImpl">
		<property name="nodeService">
			<ref bean="NodeService" />
		</property>
		<property name="siteService">
			<ref bean="siteService" />
		</property>
	</bean>



	<!-- Use either the Java approach or the JavaScript approach, but not both -->
	<!-- <bean id="onCreateRatingNode" class="org.alfresco.repo.policy.registration.ClassPolicyRegistration" 
		parent="policyRegistration"> <property name="policyName"> <value>{http://www.alfresco.org}onCreateNode</value> 
		</property> <property name="className"> <value>{http://www.someco.com/model/ratings/1.0}rating</value> 
		</property> <property name="behaviour"> <bean class="org.alfresco.repo.jscript.ScriptBehaviour" 
		parent="scriptBehaviour"> <property name="location"> <bean class="org.alfresco.repo.jscript.ClasspathScriptLocation"> 
		<constructor-arg> <value>alfresco/module/${project.artifactId}/scripts/onCreateRating.js</value> 
		</constructor-arg> </bean> </property> </bean> </property> </bean> <bean 
		id="onDeleteRatingNode" class="org.alfresco.repo.policy.registration.ClassPolicyRegistration" 
		parent="policyRegistration"> <property name="policyName"> <value>{http://www.alfresco.org}onDeleteNode</value> 
		</property> <property name="className"> <value>{http://www.someco.com/model/ratings/1.0}rating</value> 
		</property> <property name="behaviour"> <bean class="org.alfresco.repo.jscript.ScriptBehaviour" 
		parent="scriptBehaviour"> <property name="location"> <bean class="org.alfresco.repo.jscript.ClasspathScriptLocation"> 
		<constructor-arg> <value>alfresco/module/${project.artifactId}/scripts/onDeleteRating.js</value> 
		</constructor-arg> </bean> </property> </bean> </property> </bean> -->
		
	<!-- Workflows -->
	<bean id="${project.artifactId}.workflowBootstrap" parent="workflowDeployer">
		<property name="workflowDefinitions">
			<list>
				<props>
					<prop key="engineId">activiti</prop>
					<prop key="location">alfresco/module/${project.artifactId}/workflows/publishWhitepaper.bpmn
					</prop>
					<prop key="mimetype">text/xml</prop>
					<prop key="redeploy">false</prop>
				</props>
				<props>
					<prop key="engineId">activiti</prop>
					<prop key="location">alfresco/module/${project.artifactId}/workflows/publishTechnicalReport.bpmn
					</prop>
					<prop key="mimetype">text/xml</prop>
					<prop key="redeploy">false</prop>
				</props>
				<props>
					<prop key="engineId">activiti</prop>
					<prop key="location">alfresco/module/${project.artifactId}/workflows/flagForReview.bpmn
					</prop>
					<prop key="mimetype">text/xml</prop>
					<prop key="redeploy">false</prop>
				</props>
			</list>
		</property>
	</bean>



</beans>
